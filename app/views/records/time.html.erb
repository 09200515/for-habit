<header>
  <script>
var timer1;

function cntStart() {
  document.timer.elements[2].disabled=true;
  timer1 = setInterval("countDown()",1000);
}
function cntStop() {
  document.timer.elements[2].disabled=false;
  crearInterval(timer1);
}

function countDown() {
  var min=document.timer.elements[0].value;
  var sec=document.timer.elements[1].value;

  if((min=="")&&(sec=="")) {
    alert("時間を設定してください！");
    reSet();
  }
  else {
    if(min=="")min=0;
    min=parseInt(min);

    if(sec=="")sec=0;
    sec=parseInt(sec);

    tmWrite(min*60+sec-1);
  }
}
function tmWrite(int) {
  int=parseInt(int);

  if(int <= 0) {
    reSet();
    alert("時間です！");
  }
  else {
    document.timer.elements[0].value=Math.floor(int/60);
    document.timer.elements[1].value=int % 60;
  }
}

function reSet() {
  document.timer.elements[0].value="0";
  document.timer.elements[1].value="0";
  document.timer.elements[2].disabled=false;
  clearInterval(timer1);
}

function time() {
  const startBtn = document.getElementById("start-btn")
  startBtn.addEventListener("click", (e) => {
    const startTime = Time.now;
  });
  function finTime() {
    const finTimer = Time.now;
    const times = fintimer - startTime;
    console.log("times")
  };
  setTimeout("finTime", timer1);
}

window.addEventListener("load", time);

  </script>
</header>

<%= render "shared/header" %>

  <div class="timer">
    <form name="timer">
      <input type="text", value="", id="min-form">分
      <input type="text", value="", id="sec-form">秒<br />
      <input type="button", value="スタート", onclick="cntStart()" id="start-btn" >
      <input type="button", value="ストップ", onclick="cntStop()", id="fin-btn">
    </form>
  </div>

  <div class="time-record">
    <%# @record.data = times %>
    <% @record.date = Date.today %>
    <% @record.unit = "分" %>
    <%= link_to '記録を保存する', objective_records_path(@record) %>
  </div>